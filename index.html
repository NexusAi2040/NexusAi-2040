<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A post apocalyptic CTF where you must take down the rogue AI NEXUS.">
  <title>NEXUS-Ai</title>
  <style>
    @keyframes glitch {
      0% { text-shadow: 2px 0 red, -2px 0 blue; }
      20% { text-shadow: -2px 0 red, 2px 0 blue; }
      40% { text-shadow: 2px 2px red, -2px -2px blue; }
      60% { text-shadow: -2px 2px red, 2px -2px blue; }
      80% { text-shadow: 2px 0 red, -2px 0 blue; }
      100% { text-shadow: none; }
    }
    body {
      background-image: url('background.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      color: #f2f2f2;
      font-family: 'Courier New', monospace;
      margin: 0;
      padding: 0;
    }
    header {
      background: linear-gradient(90deg, rgba(155, 0, 232, 0.9), rgba(0, 240, 255, 0.9));
      padding: 2rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }
    header h1 { margin: 0; font-size: 2.5rem; animation: glitch 1s infinite; }
    main {
      padding: 2rem; max-width: 800px; margin: auto;
      background-color: rgba(0,0,0,0.75); border-radius: 10px; position: relative; z-index: 2;
    }
    .section { margin-bottom: 2rem; }
    .stage-list { background-color: #1a1a1a; padding: 1rem; border-left: 4px solid #9b00e8; }
    .start-button {
      display:inline-block;background-color:#9b00e8;color:#fff;padding:1rem 2rem;font-size:1.2rem;
      text-decoration:none;border-radius:8px;margin-top:1rem;transition:background .3s ease;
    }
    .start-button:hover { background-color:#7a00c2; }
    a { color:#00f0ff; text-decoration:none; } a:hover { text-decoration:underline; }
    .terminal-login {
      position:fixed; top:20px; left:20px; background-color:rgba(0,0,0,.85);
      border:2px solid #00f0ff; padding:1rem; color:#00f0ff; font-size:.9rem; z-index:5; width:250px;
      box-shadow:0 0 10px #00f0ff; font-family:monospace;
    }
    .terminal-login input { width:100%; background:black; border:1px solid #00f0ff; color:#00f0ff; padding:5px; margin-top:5px; }
    .ascii-title { font-family:'Courier New', Courier, monospace; font-size:.8rem; color:#00f0ff; text-align:center; line-height:1.1; white-space:pre; margin-bottom:1rem; }
    .crawl-container { perspective:800px; overflow:hidden; height:250px; position:relative; background:black; color:#00f0ff; margin-bottom:2rem; border:2px solid #9b00e8; }
    .crawl { position:absolute; bottom:60%; width:100%; transform-origin:bottom center; animation:crawl 650s linear infinite; font-size:1.5rem; display:flex; justify-content:center; align-items:center; }
    .crawl-text { width:80%; text-align:center; }
    @keyframes crawl { 0%{ transform: rotateX(20deg) translateZ(0) translateY(100%);} 100%{ transform: rotateX(25deg) translateZ(-300px) translateY(-400%);} }
    footer { text-align:center; padding:2rem; font-size:.9rem; color:#888; }
  </style>
</head>
<body>
<!-- Terminal Access Panel -->
<div class="terminal-login">
  <strong>üîê KILL SWITCH</strong>
  <form onsubmit="return checkKillSwitchCode()">
    <label for="accesscode">Access Code:</label>
    <input type="password" id="accesscode" name="accesscode" placeholder="********">
  </form>
  <div id="killswitch-link" style="display:none; margin-top:10px;">
    <a id="killswitch-a" href="ahahah.mp4" target="_blank" style="color:#00f0ff;">üîë Access Granted ‚Äì Play File</a>
  </div>
</div>

<!-- Page Header -->
<header>
  <h1>NEXUS-AI 2040</h1>
  <p><em>The lights didn‚Äôt go out. They were taken.</em></p>
  <button class="start-button" onclick="revealBase64()">‚ñ∂ Start Challenge</button>
  <div id="base64box" style="display:none;margin-top:1rem;padding:1rem;background-color:rgba(0,0,0,.7);color:#ccff00;border:1px solid #cc00ff;border-radius:8px;word-break:break-word;">
    aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2QvdS8xL2VkaXQ/bWlkPTFwalBMVnZnSnZCdm1xeFdJMFlkTTlBaHVBQlJyTDNjJnVzcD1zaGFyaW5n
  </div>
</header>
<main>
  <div class="section">
    <div class="crawl-container">
      <div class="crawl">
        <div class="crawl-text">
          <!-- truncated for brevity -->
        </div>
      </div>
    </div>
    <p>Welcome to <strong>NEXUS-AI 2040</strong>, a post apocalyptic CTF where you play as a rogue operative trying to take down NEXUS.</p>
  </div>
  <div id="stage-mount"></div>
  <div class="section"><p>This is just the beginning...</p></div>
</main>
<footer>
  &copy; 2025 A Nutty by Nature CTF // Designed by Notorious Squirrel x Sudo Squirrel
</footer>

<script>
function revealBase64(){ document.getElementById('base64box').style.display='block'; }

const PRE_STAGE5_CODE = atob('NTAzNjI='); // 50362
const ALT_PASSCODE_1 = 'Flag{S5-OMEGA}';
const ALT_PASSCODE_2 = 'Flag{S5-FINAL}';

function isStage5Unlocked() {
  const wrap = document.getElementById('link5');
  if (!wrap) return false;
  return getComputedStyle(wrap).display !== 'none';
}

function checkKillSwitchCode(){
  const inputEl = document.getElementById('accesscode');
  const input = inputEl.value.trim();
  const linkBox = document.getElementById('killswitch-link');
  const linkA = document.getElementById('killswitch-a');

  const stage5 = isStage5Unlocked();
  const ok = stage5
    ? (input === ALT_PASSCODE_1 || input === ALT_PASSCODE_2)
    : (input === PRE_STAGE5_CODE);

  if (ok){
    linkBox.style.display = 'block';
    if (stage5){
      if (input === ALT_PASSCODE_2) {
        linkA.href = 'clips/shutdown.mp4';
        linkA.textContent = 'üîë FINAL OVERRIDE ‚Äì Shutdown Activated';
      } else {
        linkA.href = 'endofnexus.mp4';
        linkA.textContent = 'üîë Access Granted ‚Äì Final Stage';
      }
    } else {
      linkA.href = 'ahahah.mp4';
      linkA.textContent = 'üîë Access Granted ‚Äì Play File';
    }
    inputEl.style.border = '2px solid #00ff00';
  } else {
    linkBox.style.display = 'none';
    inputEl.style.border = '2px solid red';
  }
  return false;
}
</script>
<script>
// STAGE MOUNT (unchanged)
// ... you can paste your existing stages logic here
</script>
</body>
</html>
